{"version":3,"file":"fast-ai.global.min.js","sources":["../../src/index.ts","../../src/fastai.ts"],"sourcesContent":[null,null],"names":["detectEnvironment","window","document","hello","name","index","options","base","baseURL","replace","apiKey","Error","builder","modelName","provider","endpoint","model","chat","description","parameters","execute","async","args","Promise","resolve","messages","onToolCall","messageHistory","toolMap","Map","toolsInput","tools","Array","isArray","t","set","Object","entries","toolsJsonSchema","size","from","values","map","type","function","zodToJsonSchema","undefined","client","res","fetch","method","headers","Authorization","body","JSON","stringify","then","r","json","assistant","choices","message","push","tool_calls","length","text","content","c","forEach","call","tool","get","parse","arguments","result","role","tool_call_id","id"],"mappings":"+CAEgBA,IAEd,MADoC,oBAAXC,QAA8C,oBAAbC,SACvC,UAAY,MACjC,CAEM,SAAUC,EAAMC,EAAe,SACnC,MAAO,UAAUA,WAAcJ,KACjC,CAEA,IAAAK,EAAe,CACbL,oBACAG,+BCyDI,SAAuBG,GACzB,MAAMC,GAAQD,EAAQE,SAAW,0CAA0CC,QAAQ,MAAO,IACpFC,EAASJ,EAAQI,OACvB,IAAKA,EACD,MAAM,IAAIC,MAAM,sBAEpB,MAAMC,EAAYC,IAAiB,CAC/BC,SAAU,SACVC,SAAU,GAAGR,qBACbS,MAAOH,EACPH,WAKJ,OAHAE,EAAQJ,QAAUD,EAClBK,EAAQF,OAASA,EACjBE,EAAQK,KAAQJ,GAAsBD,EAAQC,GACvCD,CACX,eApEM,SAA6CN,GAS/C,MAAO,CACHF,KAAME,EAAQF,KACdc,YAAaZ,EAAQY,YACrBC,WAAYb,EAAQa,WACpBC,QAPmBC,MAAOC,GACnBC,QAAQC,QAAQlB,EAAQc,QAAQE,IAQ/C,mDAsEOD,eAA4Bf,GAC/B,MAAMmB,SAAEA,EAAQC,WAAEA,GAAepB,EAC3BqB,EAAgC,IAAIF,GAGpCG,EAAU,IAAIC,IACdC,EAAcxB,EAAgByB,MACpC,GAAIC,MAAMC,QAAQH,GACd,IAAK,MAAMI,KAAKJ,EAAYF,EAAQO,IAAID,EAAE9B,KAAM8B,QAC7C,GAAIJ,GAAoC,iBAAfA,EAC5B,IAAK,MAAO1B,EAAM8B,KAAME,OAAOC,QAAQP,GAAaF,EAAQO,IAAI/B,EAAM8B,GAG1E,MAAMI,EAAkBV,EAAQW,KAC1BP,MAAMQ,KAAKZ,EAAQa,UAAUC,IAAIR,IAAC,CAC9BS,KAAM,WACNC,SAAU,CACNxC,KAAM8B,EAAE9B,KACRc,YAAagB,EAAEhB,YACfC,WAAY0B,EAAAA,gBAAgBX,EAAEf,qBAGtC2B,EAOA/B,EAAW,IAJA,WAAYT,EACtBA,EAAQyC,OAAwBvC,QAChCF,EAAQU,MAAuBD,SAASN,QAAQ,uBAAwB,KAAKA,QAAQ,MAAO,uBAG7FC,EAAS,WAAYJ,EAAUA,EAAQyC,OAAOrC,OAAUJ,EAAQU,MAAuBN,OACvFG,EAAY,WAAYP,EAAWA,EAAQU,MAAoBV,EAAQU,MAAuBA,MAEpG,OAAa,CACT,MAAMgC,QAAyBC,MAAMlC,EAAU,CAC3CmC,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChBC,cAAe,UAAU1C,KAE7B2C,KAAMC,KAAKC,UAAU,CACjBvC,MAAOH,EACPY,SAAUE,EACVI,MAAOO,MAEZkB,KAAKC,GAAKA,EAAEC,QAETC,EAAYX,EAAIY,UAAU,IAAIC,QACpC,IAAKF,EACD,MAAM,IAAIhD,MAAM,uBAGpBgB,EAAemC,KAAKH,GAEpB,MAAMI,EAAaJ,EAAUI,WAC7B,IAAKA,GAAoC,IAAtBA,EAAWC,OAC1B,MAAO,CAAEC,KAAMN,EAAUO,SAG7B,GAAIxC,EAAY,CACMqC,EAAWrB,IAAIyB,GAAKA,EAAEvB,SAASxC,MACvCgE,QAAQhE,GAAQsB,EAAWtB,GACzC,CAGA,IAAK,MAAMiE,KAAQN,EAAY,CAC3B,MAAMO,EAAO1C,EAAQ2C,IAAIF,EAAKzB,SAASxC,MACvC,IAAKkE,EACD,MAAM,IAAI3D,MAAM,QAAQ0D,EAAKzB,SAASxC,kBAG1C,MAAMkB,EAAOgD,EAAKnD,WAAWqD,MAAMlB,KAAKkB,MAAMH,EAAKzB,SAAS6B,YACtDC,QAAeJ,EAAKlD,QAAQE,GAElCK,EAAemC,KAAK,CAChBa,KAAM,OACNT,QAASQ,EACTE,aAAcP,EAAKQ,IAE3B,CAEJ,CACJ"}