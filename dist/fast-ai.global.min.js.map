{"version":3,"file":"fast-ai.global.min.js","sources":["../../src/index.ts","../../src/fastai.ts"],"sourcesContent":[null,null],"names":["detectEnvironment","window","document","hello","name","index","options","base","baseURL","replace","apiKey","Error","builder","modelName","provider","endpoint","model","chat","async","messages","onToolCall","messageHistory","toolMap","Map","toolsInput","tools","Array","isArray","t","set","Object","entries","toolsJsonSchema","size","from","values","map","type","function","description","parameters","zodToJsonSchema","undefined","client","res","fetch","method","headers","Authorization","body","JSON","stringify","then","r","json","assistant","choices","message","push","tool_calls","length","text","content","c","forEach","call","tool","get","args","parse","arguments","result","execute","role","tool_call_id","id"],"mappings":"+CAEgBA,IAEd,MADoC,oBAAXC,QAA8C,oBAAbC,SACvC,UAAY,MACjC,CAEM,SAAUC,EAAMC,EAAe,SACnC,MAAO,UAAUA,WAAcJ,KACjC,CAEA,IAAAK,EAAe,CACbL,oBACAG,+BCuCI,SAAuBG,GACzB,MAAMC,GAAQD,EAAQE,SAAW,0CAA0CC,QAAQ,MAAO,IACpFC,EAASJ,EAAQI,OACvB,IAAKA,EACD,MAAM,IAAIC,MAAM,sBAEpB,MAAMC,EAAYC,IAAiB,CAC/BC,SAAU,SACVC,SAAU,GAAGR,qBACbS,MAAOH,EACPH,WAKJ,OAHAE,EAAQJ,QAAUD,EAClBK,EAAQF,OAASA,EACjBE,EAAQK,KAAQJ,GAAsBD,EAAQC,GACvCD,CACX,mDAiBOM,eAA4BZ,GAC/B,MAAMa,SAAEA,EAAQC,WAAEA,GAAed,EAC3Be,EAAgC,IAAIF,GAGpCG,EAAU,IAAIC,IACdC,EAAclB,EAAgBmB,MACpC,GAAIC,MAAMC,QAAQH,GACd,IAAK,MAAMI,KAAKJ,EAAYF,EAAQO,IAAID,EAAExB,KAAMwB,QAC7C,GAAIJ,GAAoC,iBAAfA,EAC5B,IAAK,MAAOpB,EAAMwB,KAAME,OAAOC,QAAQP,GAAaF,EAAQO,IAAIzB,EAAMwB,GAG1E,MAAMI,EAAkBV,EAAQW,KAC1BP,MAAMQ,KAAKZ,EAAQa,UAAUC,IAAIR,IAAC,CAC9BS,KAAM,WACNC,SAAU,CACNlC,KAAMwB,EAAExB,KACRmC,YAAaX,EAAEW,YACfC,WAAYC,EAAAA,gBAAgBb,EAAEY,qBAGtCE,EAOA3B,EAAW,IAJA,WAAYT,EACtBA,EAAQqC,OAAwBnC,QAChCF,EAAQU,MAAuBD,SAASN,QAAQ,uBAAwB,KAAKA,QAAQ,MAAO,uBAG7FC,EAAS,WAAYJ,EAAUA,EAAQqC,OAAOjC,OAAUJ,EAAQU,MAAuBN,OACvFG,EAAY,WAAYP,EAAWA,EAAQU,MAAoBV,EAAQU,MAAuBA,MAEpG,OAAa,CACT,MAAM4B,QAAyBC,MAAM9B,EAAU,CAC3C+B,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChBC,cAAe,UAAUtC,KAE7BuC,KAAMC,KAAKC,UAAU,CACjBnC,MAAOH,EACPM,SAAUE,EACVI,MAAOO,MAEZoB,KAAKC,GAAKA,EAAEC,QAETC,EAAYX,EAAIY,UAAU,IAAIC,QACpC,IAAKF,EACD,MAAM,IAAI5C,MAAM,uBAGpBU,EAAeqC,KAAKH,GAEpB,MAAMI,EAAaJ,EAAUI,WAC7B,IAAKA,GAAoC,IAAtBA,EAAWC,OAC1B,MAAO,CAAEC,KAAMN,EAAUO,SAG7B,GAAI1C,EAAY,CACMuC,EAAWvB,IAAI2B,GAAKA,EAAEzB,SAASlC,MACvC4D,QAAQ5D,GAAQgB,EAAWhB,GACzC,CAGA,IAAK,MAAM6D,KAAQN,EAAY,CAC3B,MAAMO,EAAO5C,EAAQ6C,IAAIF,EAAK3B,SAASlC,MACvC,IAAK8D,EACD,MAAM,IAAIvD,MAAM,QAAQsD,EAAK3B,SAASlC,kBAG1C,MAAMgE,EAAOF,EAAK1B,WAAW6B,MAAMnB,KAAKmB,MAAMJ,EAAK3B,SAASgC,YACtDC,QAAeL,EAAKM,QAAQJ,GAElC/C,EAAeqC,KAAK,CAChBe,KAAM,OACNX,QAASS,EACTG,aAAcT,EAAKU,IAE3B,CAEJ,CACJ"}